"use strict";Bridge.define("ClientTestLibrary.Linq.TestLinqConversionOperatorsIEqualityComparer",{inherits:[Bridge.EqualityComparer$1(String)],equals:function(x,y){return Bridge.String.equals(x,y)},getHashCode:function(obj){return obj===null?0:Bridge.getHashCode(obj)}});Bridge.define("ClientTestLibrary.Linq.TestLinqConversionOperators",{statics:{test:function(assert){var wordList2,wordListExpected2,comparer,expectedGroupDictionary2,groupDictionary2,groupDictionary3,numbers,doubleNumbers;assert.expect(13);var doubles=[1.7,2.3,1.9,4.1,2.9],sameDoubles=Bridge.Linq.Enumerable.from(doubles).select(function(d){return d}),doublesArray=sameDoubles.toArray();assert.ok(Bridge.String.contains(Bridge.getType(doublesArray).toString(),"function Array()"),"ToArray() conversion for doubles - check type name");assert.deepEqual(doublesArray,doubles,"ToArray() conversion for doubles - check content");var words=["1.one","2.two","3.three"],wordList1=Bridge.Linq.Enumerable.from(Bridge.Linq.Enumerable.from(words).orderByDescending(function(w){return w})).toList(String),wordListExpected1=new Bridge.List$1(String)(["3.three","2.two","1.one"]);assert.deepEqual(Bridge.get(ClientTestLibrary.Utilities.TypeHelper).getTypeName(wordList1),"Bridge.List$1$String","ToList() conversion with explicit String type for string - check type name");assert.deepEqual(wordList1,wordListExpected1,"ToList() conversion for strings with explicit String type - check content");wordList2=Bridge.Linq.Enumerable.from(words).orderByDescending(function(w){return w}).toList(String);wordListExpected2=new Bridge.List$1(String)(["3.three","2.two","1.one"]);assert.deepEqual(Bridge.get(ClientTestLibrary.Utilities.TypeHelper).getTypeName(wordList2),"Bridge.List$1$String","ToList() conversion for string - check type name");assert.deepEqual(wordList2,wordListExpected2,"ToList() conversion for strings - check content");var groups=Bridge.get(ClientTestLibrary.Utilities.Group).getGroups(),groupDictionary1=Bridge.Linq.Enumerable.from(groups).select(function(g){return g}).toDictionary(function(g){return g.getName()},function(g){return g},String,ClientTestLibrary.Utilities.Group),expectedGroupDictionary1=new Bridge.Dictionary$2(String,ClientTestLibrary.Utilities.Group)();expectedGroupDictionary1.add("A",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"A",setLimit:1e3}));expectedGroupDictionary1.add("B",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"B",setLimit:400}));expectedGroupDictionary1.add("C",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"C",setLimit:800}));expectedGroupDictionary1.add("D",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"D",setLimit:200}));assert.deepEqual(Bridge.get(ClientTestLibrary.Utilities.TypeHelper).getTypeName(groupDictionary1),"Bridge.Dictionary$2$String$ClientTestLibrary.Utilities.Group","ToDictionary(keySelector, elementSelector) conversion for <string, Group> - check type name");assert.deepEqual(groupDictionary1,expectedGroupDictionary1,"ToDictionary(keySelector, elementSelector) conversion for <string, Group> - check content");comparer=new ClientTestLibrary.Linq.TestLinqConversionOperatorsIEqualityComparer;expectedGroupDictionary2=new Bridge.Dictionary$2(String,ClientTestLibrary.Utilities.Group)(null,comparer);expectedGroupDictionary2.add("A",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"A",setLimit:1e3}));expectedGroupDictionary2.add("B",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"B",setLimit:400}));expectedGroupDictionary2.add("C",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"C",setLimit:800}));expectedGroupDictionary2.add("D",Bridge.merge(new ClientTestLibrary.Utilities.Group,{setName:"D",setLimit:200}));groupDictionary2=Bridge.Linq.Enumerable.from(groups).select(function(g){return g}).toDictionary(function(g){return g.getName()},function(g){return g},String,ClientTestLibrary.Utilities.Group,comparer);assert.deepEqual(Bridge.get(ClientTestLibrary.Utilities.TypeHelper).getTypeName(groupDictionary2),"Bridge.Dictionary$2$String$ClientTestLibrary.Utilities.Group","ToDictionary(keySelector, elementSelector, IEqualityComparer) conversion for <string, Group> - check type name");assert.deepEqual(groupDictionary2,expectedGroupDictionary2,"ToDictionary(keySelector, elementSelector, IEqualityComparer) conversion for <string, Group> - check content");groupDictionary3=Bridge.Linq.Enumerable.from(groups).select(function(g){return g}).toDictionary(function(g){return g.getName()},null,String,ClientTestLibrary.Utilities.Group);assert.deepEqual(Bridge.get(ClientTestLibrary.Utilities.TypeHelper).getTypeName(groupDictionary3),"Bridge.Dictionary$2$String$ClientTestLibrary.Utilities.Group","ToDictionary(keySelector) conversion for <string, Group> - check type name");assert.deepEqual(groupDictionary3,expectedGroupDictionary1,"ToDictionary(keySelector) conversion for <string, Group> - check content");numbers=[null,1,"two",3,"four",5,"six",7];doubleNumbers=Bridge.Linq.Enumerable.from(numbers).ofType(Number).toArray();assert.deepEqual(doubleNumbers,[1,3,5,7],"Issue #218. OfType<double> should get only double type items")}}});Bridge.init();